<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:fragment="include(title,links,styles,scripts,body)">
    <head>
        <title th:replace="${title}">Pagespeed</title>
        <!-- Common styles and scripts -->
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1">
        <meta name="robots" content="NOINDEX,NOFOLLOW">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
              integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
              rel="stylesheet">

        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/open-iconic/1.1.1/font/css/open-iconic-bootstrap.min.css">
        <style>

            html {
                font-size: 10px;
            }

            body {
                font-size: 2rem;
                font-family: 'Roboto', Arial, sans-serif;
            }

            a:hover {
                color: #5bb2ff;
            }

            .dark-mode-theme {
                background: #1d1d1d !important;
                color: #ddd !important;
            }

            .dark-mode-theme-header {
                -webkit-box-shadow: 0 4px 5px 0 rgba(255, 255, 255, 0), 0 1px 10px 0 rgba(255,255,255,0.12), 0 2px 4px -1px rgba(255,255,255,0.2) !important;
                box-shadow: 0 4px 5px 0 rgba(255, 255, 255, 0), 0 1px 10px 0 rgba(255,255,255,0.12), 0 2px 4px -1px rgba(255,255,255, 0.2) !important;
                background: #1d1d1d !important;
                color: #ddd !important;
            }

            .dark-mode-button {
                right: 2rem;
                bottom: 2rem;
            }

            .dark-mode-button i {
                font-size: 3rem;
                cursor: pointer;
            }

            .dark-mode-button-green i{
                color: green;
            }

            .table-dark td a {
                color: #9eb5ff;
            }

            .table-dark td a:hover {
                color: #928eff;
            }


            .crux-headline--standard {
                font-size: 3.6rem;
                font-weight: normal;
                line-height: 1em;
            }


            #table-details .slow {
                color: #c7221f;;
            }

            #table-details .average {
                color: #e67700;;
            }

            #table-details .fast {
                color: #00ae4d;;
            }


            input[type="text"], input[type="email"] {
                color: #212121;
                margin: 0;
                max-width: 100%;
                outline: 0;
                transition: border-color .2s;
                vertical-align: middle;
                font-size: 1.4rem;
            }

            .tt-menu {
                font-size: 1.4rem;
                background: #fff;
                width: 100%;
                padding: 8px 0;
                border: 1px solid #ccc;
                border: 1px solid rgba(0, 0, 0, 0.2);
                -webkit-border-radius: 8px;
                -moz-border-radius: 8px;
                border-radius: 8px;
                -webkit-box-shadow: 0 5px 10px rgba(0,0,0,.2);
                -moz-box-shadow: 0 5px 10px rgba(0,0,0,.2);
                box-shadow: 0 5px 10px rgba(0,0,0,.2);
                color: #333;
            }

            .tt-suggestion {
                padding: 3px 8px;
            }

            .tt-suggestion.tt-cursor {
                color: #fff;
                background-color: #0097cf;

            }

            .tt-suggestion p {
                margin: 0;
            }



            .tt-suggestion:hover {
                cursor: pointer;
                color: #fff;
                background-color: #0097cf;
                width: 100%;
            }

            .tt-hint {
                color: #bbb;
            }



            .footer {
                border-top: solid 1px #999;
                /*box-shadow: 0 4px 4px 0 rgba(0,0,0,0.2), 0 1px 0 0 rgba(0,0,0,0.01);*/
                margin: 4rem 0 2rem 0;
                font-size: 1.5rem;
                font-weight: 300;
                line-height: 4rem;
            }

            .fixed-header {
                position: fixed;
                height: 6rem;
                left: 0;
                top: 0;
                width: 100%;
                background: #fff;
                -webkit-box-shadow: 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12), 0 2px 4px -1px rgba(0,0,0,0.2);
                box-shadow: 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12), 0 2px 4px -1px rgba(0,0,0,0.2);
                z-index: 999;
            }


        </style>

        <link rel="stylesheet" href="/stylesheets/main.css" type="text/css">
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script type="text/javascript" src="/js/jquery.loadTemplate.min.js"></script>
        <script src="/js/typeahead.jquery.js"></script>
        <script type="text/javascript" src="/js/echarts.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
                integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
                crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
                integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
                crossorigin="anonymoutabs"></script>
        <script src="/js/cookie.js"></script>
        <script>
            /* local timezone is not available server size */
            if (!Cookies.get('timezone')) {
                Cookies.set('timezone', new Date().toString().match(/([A-Z]+[\+-][0-9]+)/)[1]);
            }

            var loadDarkMode = function() {
                if (Cookies.get('isDarkMode')) {
                    $(".dark-mode-button").addClass("dark-mode-button-green");
                    $(".cr-logo").attr("src", "images/cr-logo-dark-mode.svg");
                    $("body").addClass("dark-mode-theme");
                    $(".fixed-header").addClass("dark-mode-theme-header");
                    $(".table").removeClass("table-light").addClass("table-dark");
                    $(".table thead").removeClass("thead-light").addClass("thead-dark");
                }

                $(".dark-mode-button").on("click", function(){
                    $(this).toggleClass("dark-mode-button-green");
                    if ($(this).hasClass("dark-mode-button-green")) {
                        Cookies.set('isDarkMode', "on", { expires: 365 });
                        $(".cr-logo").attr("src", "images/cr-logo-dark-mode.svg");
                        $(".table thead").removeClass("thead-light").addClass("thead-dark");
                        $(".table").removeClass("table-light").addClass("table-dark");
                    } else {
                        Cookies.remove('isDarkMode');
                        $(".cr-logo").attr("src", "images/cr-logo.svg");
                        $(".table thead").removeClass("thead-dark").addClass("thead-light");
                        $(".table").removeClass("table-dark").addClass("table-light");
                    }
                    $("body").toggleClass("dark-mode-theme");
                    $(".fixed-header").toggleClass("dark-mode-theme-header");
                });
            }



            $( function() {
                loadDarkMode();
            });
        </script>
        <script type="text/javascript" src="/js/common-functions.js"></script>

        <!--/* Per-page placeholder for additional links */-->
        <th:block th:replace="${links}" />
        <th:block th:replace="${styles}" />
        <th:block th:replace="${scripts}" />

        <script>
            var historyPush = function() {
                var title = $('.title-text *:not(:empty)*:not(:has(*)):visible').map(function() {return $(this).text()}).get().join("->");
                var link = window.location.href;
                if (title != null && title != "" && link.indexOf("?") != -1) {
                    var localHistory = sessionStorage.getItem('localHistory');
                    localHistory = localHistory ? JSON.parse(localHistory) : [];
                    //localHistory = localHistory ? localHistory.split(',') : [];
                    localHistory.push({date: (new Date().toLocaleString()),title: title, link: link});
                    sessionStorage.setItem('localHistory', JSON.stringify(localHistory));
                }
            }

            $( function() {
                historyPush();
            });
        </script>
    </head>

    <body th:classappend="${isDarkMode} ? 'dark-mode-theme' : ''">
        <div class="container-fluid" style="max-width: 1280px; min-height: 800px">
            <header class="d-flex justify-content-between p-3 fixed-header" th:classappend="${isDarkMode} ? 'dark-mode-theme-header' : ''">
                <div class="p2"><a href="/"><img style="display: inline;" class="hidden-sm-down cr-logo" src="images/cr-logo.svg"></a> <a href="/"><img style="height: 42px;" src="images/m4.png"></a></div>
                <div class="p2">
                    <ul class="nav justify-content-end nav-pills">
                        <li class="nav-item">
                            <a th:class="${tab} == 'reports' ? 'nav-link active' : 'nav-link'" href="reports.html">Reports</a>
                        </li>
                        <li class="nav-item">
                            <a th:class="${tab} == 'analyze' ? 'nav-link active' : 'nav-link'" href="analyze.html">Analysis</a>
                        </li>
                        <li class="nav-item">
                            <a th:class="${tab} == 'metrics' ? 'nav-link active' : 'nav-link'" href="metrics.html">Metrics</a>
                        </li>
                        <li class="nav-item">
                            <a th:class="${tab} == 'benchmark' ? 'nav-link active' : 'nav-link'" href="benchmark.html">Benchmark</a>
                        </li>
                        <li class="nav-item">
                            <a th:class="${tab} == 'settings' ? 'nav-link active' : 'nav-link'" href="settings.html">Settings</a>
                        </li>
                        <li class="nav-item">
                            <a th:class="${tab} == 'history' ? 'nav-link active' : 'nav-link'" href="history.html">History</a>
                        </li>
                    </ul>
                </div>
            </header>
            <div style="padding-top: 8rem;">
                <th:block th:replace="${body}" />
            </div>

        </div>
        <div class="position-fixed dark-mode-button" title="Dark Mode"><i class="material-icons">power_settings_new</i></div>
        <footer class="container-fluid d-flex">
            <span class="footer container-fluid">For questions or suggestions, please email <a href="mailto:arai@consumer.org">arai@consumer.org</a></span>
        </footer>
    </body>
</html>