<!DOCTYPE html>
<html lang="en" th:fragment="layout (template)>
    <head>
        <title>Product Reviews and Ratings - Consumer Reports</title>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1">
        <meta name="robots" content="NOINDEX,NOFOLLOW">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.dev.consumerreports.org/crux/styles/2.0/css/main.css" type="text/css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
              rel="stylesheet">
        <style>

            body {
                font-size: 2rem;
                font-family: Arial;
            }

            .score {
                border-radius: 50%;
                color: #fff;
                background-color: #00ae4d;
                width: 100px;
                height: 100px;
                -ms-flex-align: center;
                align-items: center;
                -ms-flex-pack: center;
                justify-content: center;
                display: -ms-flexbox;
                display: flex;
                font-size: 50px;
                margin-left: 30%;
            }
            .score.average {
                background-color: #e67700;;
            }
            .score.slow {
                background-color: #c7221f;;
            }
            #table-details .slow {
                color: #c7221f;;
            }
            #table-details .average {
                color: #e67700;;
            }
            #table-details .fast {
                color: #00ae4d;;
            }


            .main-action {
                padding: 4rem 0 0;
                background: #4285f4;
                line-height: 4rem;
                margin-top: 5rem;
                margin-bottom: 5rem;
            }

            .main-action div.url-and-analyze {
                display: flex;
                justify-content: center;
                width: 100%;
            }

            .main-action input[name=url] {
                color: rgba(0,0,0,0.87);
                border: none;
                font-size: 14px;
                height: auto;
                padding: 0 16px;
                width: 40%;
            }

            input[type="text"] {
                border: 1px solid #ebebeb;
                border-radius: 2px;
                color: #212121;
                font: 16px/20px Roboto,sans-serif;
                margin: 0;
                max-width: 100%;
                outline: 0;
                padding: 7px;
                transition: border-color .2s;
                vertical-align: middle;
            }

            .main-action div.analyze-cell {
                border: none;
                color: #fff;
                margin-left: 8px;
                min-width: 96px;
                font-size: 14px;
                line-height: 32px;
            }

            .main-action .main-submit {
                background-color: #3367d6;
                box-shadow: none;
                padding: 8px 16px;
                cursor: pointer;
            }

            .report-summary {
                flex-wrap: nowrap;
                align-items: center;
                border-bottom: solid 1px #e0e0e0;
                word-break: break-word;
                font-size: 1.5rem;
            }

            .report-summary .gauge-scale {
                color: rgba(0,0,0,0.54);
                margin: 8px 0;
            }



            .report-summary p {
                color: rgba(0,0,0,0.54);
                margin: 8px 0;
            }

            .report-summary .range.fast::before {
                background-color: #178239;
            }

            .report-summary .range.average::before {
                background-color: #e67700;
            }

            .report-summary .range.slow::before {
                background-color: #c7221f;
            }

            .report-summary .gauge-scale .range::before {
                content: '';
                width: 16px;
                height: 8px;
                border-radius: 4px;
                display: inline-block;
                margin: 1px 8px;
            }



            .summary-description .audited-url {
                font-size: 2rem;
                font-weight: 400;
                color: inherit;
            }



            @-webkit-keyframes changecolor {
                0%   {color: red;}
                25%  {color: yellow;}
                50%  {color: blue;}
                100% {color: green;}
            }

            @keyframes changecolor {
                0%   {color: red;}
                25%  {color: yellow;}
                50%  {color: blue;}
                100% {color: green;}
            }




            /* tabs */
            .result-tabs {
                color: #fff;
                font-weight: 500;
                height: 50px;
                left: 0;
                right: 0;
            }


            .result-tabs .goog-tab-selected .icon, .result-tabs .goog-tab-selected.goog-tab-hover .icon, .result-tabs .goog-tab-selected .tab-title, .result-tabs .goog-tab-selected.goog-tab-hover .tab-title {
                opacity: 1;
            }

            .result-tabs .goog-tab .icon, .result-tabs .goog-tab .tab-title {
                opacity: .8;
                transition: opacity .1s ease;
            }
            .result-tabs .tab-title {
                display: inline;
                padding: 0 8px;
            }

            .result-tabs .tab-bar-wrapper {
                background: #4285f4;
                box-shadow: 0 4px 4px 0 rgba(0,0,0,0.2), 0 1px 0 0 rgba(0,0,0,0.01);
                height: 50px;
                overflow: hidden;
                white-space: nowrap;
                text-transform: uppercase;
            }

            .result-tabs .goog-tab-selected {
                border-bottom: solid 2px #fff;
                z-index: 2;
            }

            .result-tabs .goog-tab {
                border-radius: 2px 2px 0 0;
                cursor: pointer;
                display: inline-block;
                font-size: 14px;
                font-weight: 1000;
                height: 50px;
                line-height: 20px;
                min-width: 120px;
                overflow: hidden;
                padding: 14px 18px;
                position: relative;
                text-align: center;
                white-space: nowrap;
                outline: none;
                transition: opacity .1s ease,background .1s ease,box-shadow .1s ease,border .1s ease;
                z-index: 1;
            }

            /* tabs */




            /* audit group */








            .lh-vars {
                --text-font-family: Roboto, Helvetica, Arial, sans-serif;
                --monospace-font-family: 'Menlo', 'dejavu sans mono', 'Consolas', 'Lucida Console', monospace;
                --body-background-color: #fff;
                --body-font-size: 14px;
                --body-line-height: 18px;
                --subheader-font-size: 14px;
                --subheader-line-height: 20px;
                --subheader-color: hsl(206, 6%, 25%);
                --header-bg-color: #f1f3f4;
                --header-font-size: 20px;
                --header-line-height: 24px;
                --title-font-size: 24px;
                --title-line-height: 28px;
                --caption-font-size: 12px;
                --caption-line-height: 16px;
                --default-padding: 12px;
                --section-padding: 16px;
                --section-indent: 16px;
                --audit-group-indent: 16px;
                --audit-item-gap: 5px;
                --audit-indent: 16px;
                --text-indent: 8px;
                --expandable-indent: 20px;
                --secondary-text-color: #565656;
                --fail-color: hsl(1, 73%, 45%);
                --average-color: hsl(31, 100%, 45%);
                --pass-color: hsl(139, 70%, 30%);
                --informative-color: #0c50c7;
                --medium-75-gray: #757575;
                --medium-50-gray: hsl(210, 17%, 98%);
                --medium-100-gray: hsl(200, 12%, 95%);
                --warning-color: #ffab00;
                --report-border-color: #ccc;
                --report-secondary-border-color: #ebebeb;
                --metric-timeline-rule-color: #b3b3b3;
                --display-value-gray: hsl(216, 5%, 39%);
                --report-width: calc(60 * var(--body-font-size));
                --report-min-width: 400px;
                --report-width-half: calc(30 * var(--body-font-size));
                --report-header-height: 161px;
                --report-header-color: #202124;
                --navitem-font-size: var(--body-font-size);
                --navitem-line-height: var(--body-line-height);
                --navitem-hpadding: var(--body-font-size);
                --navitem-vpadding: calc(var(--navitem-line-height) / 2);
                --lh-score-highlight-bg: hsla(0, 0%, 90%, 0.2);
                --lh-score-icon-background-size: 24px;
                --lh-group-icon-background-size: var(--lh-score-icon-background-size);
                --lh-score-margin: 12px;
                --lh-table-header-bg: #f8f9fa;
                --lh-table-higlight-bg: hsla(0, 0%, 75%, 0.1);
                --lh-sparkline-height: 5px;
                --lh-sparkline-thin-height: 3px;
                --lh-filmstrip-thumbnail-width: 60px;
                --lh-score-icon-width: calc(var(--body-font-size) / 14 * 16);
                --lh-category-score-width: calc(5 * var(--body-font-size));
                --lh-audit-vpadding: 8px;
                --lh-audit-index-width: 18px;
                --lh-audit-hgap: 12px;
                --lh-audit-group-vpadding: 8px;
                --lh-section-vpadding: 12px;
                --chevron-size: 12px;
                --circle-size: calc(3 * var(--header-font-size));
                --pass-icon-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022  viewBox=\0000220 0 48 48\000022\00003e\00003ctitle\00003echeck\00003c/title\00003e\00003cpath fill=\000022%23178239\000022  d=\000022M24 4C12.95 4 4 12.95 4 24c0 11.04 8.95 20 20 20 11.04 0 20-8.96 20-20 0-11.05-8.96-20-20-20zm-4 30L10 24l2.83-2.83L20 28.34l15.17-15.17L38 16 20 34z\000022/\00003e\00003c/svg\00003e');
                --average-icon-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022  viewBox=\0000220 0 48 48\000022\00003e\00003ctitle\00003einfo\00003c/title\00003e\00003cpath fill=\000022%23E67700\000022  d=\000022M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm2 30h-4V22h4v12zm0-16h-4v-4h4v4z\000022/\00003e\00003c/svg\00003e');
                --info-icon-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022  viewBox=\0000220 0 48 48\000022\00003e\00003ctitle\00003einfo\00003c/title\00003e\00003cpath fill=\000022%230097E1\000022  d=\000022M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm2 30h-4V22h4v12zm0-16h-4v-4h4v4z\000022/\00003e\00003c/svg\00003e');
                --fail-icon-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022  viewBox=\0000220 0 48 48\000022\00003e\00003ctitle\00003ewarn\00003c/title\00003e\00003cpath fill=\000022%23C7221F\000022  d=\000022M2 42h44L24 4 2 42zm24-6h-4v-4h4v4zm0-8h-4v-8h4v8z\000022/\00003e\00003c/svg\00003e');
                --content-paste-icon-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022  width=\00002224\000022  height=\00002224\000022\00003e\00003cpath fill=\000022%235E6268\000022  d=\000022M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z\000022/\00003e\00003cpath d=\000022M0 0h24v24H0z\000022  fill=\000022none\000022/\00003e\00003c/svg\00003e');
                --av-timer-icon-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022  width=\00002224\000022  height=\00002224\000022  fill=\000022%235E6268\000022\00003e\00003cpath d=\000022M0 0h24v24H0z\000022  fill=\000022none\000022/\00003e\00003cpath d=\000022M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42A8.962 8.962 0 0 0 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9a8.994 8.994 0 0 0 7.03-14.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z\000022/\00003e\00003c/svg\00003e');
                --photo-filter-icon-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022  width=\00002248\000022  height=\00002248\000022\00003e\00003cpath fill=\000022none\000022  d=\000022M0 0h48v48H0V0z\000022/\00003e\00003cpath d=\000022M38.04 20v18H10V10h18V6H10.04c-2.2 0-4 1.8-4 4v28c0 2.2 1.8 4 4 4h28c2.2 0 4-1.8 4-4V20h-4zM34 20l1.88-4.12L40 14l-4.12-1.88L34 8l-1.88 4.12L28 14l4.12 1.88zm-7.5 1.5L24 16l-2.5 5.5L16 24l5.5 2.5L24 32l2.5-5.5L32 24z\000022  fill=\000022%235E6268\000022/\00003e\00003c/svg\00003e');
                --visibility-icon-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022  width=\00002248\000022  height=\00002248\000022\00003e\00003cpath d=\000022M0 0h48v48H0z\000022  fill=\000022none\000022/\00003e\00003cpath d=\000022M24 9C14 9 5.46 15.22 2 24c3.46 8.78 12 15 22 15 10.01 0 18.54-6.22 22-15-3.46-8.78-11.99-15-22-15zm0 25c-5.52 0-10-4.48-10-10s4.48-10 10-10 10 4.48 10 10-4.48 10-10 10zm0-16c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6z\000022  fill=\000022%235E6268\000022/\00003e\00003c/svg\00003e');
                --check-circle-icon-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022  width=\00002248\000022  height=\00002248\000022\00003e\00003cpath d=\000022M0 0h48v48H0z\000022  fill=\000022none\000022/\00003e\00003cpath d=\000022M24 4C12.95 4 4 12.95 4 24c0 11.04 8.95 20 20 20 11.04 0 20-8.96 20-20 0-11.05-8.96-20-20-20zm-4 30L10 24l2.83-2.83L20 28.34l15.17-15.17L38 16 20 34z\000022  fill=\000022%235E6268\000022/\00003e\00003c/svg\00003e');
                --check-icon-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022  width=\00002248\000022  height=\00002248\000022\00003e\00003cpath d=\000022M0 0h48v48H0z\000022  fill=\000022none\000022/\00003e\00003cpath d=\000022M18 32.34L9.66 24l-2.83 2.83L18 38l24-24-2.83-2.83z\000022/\00003e\00003c/svg\00003e');
                --warning-icon-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022  viewBox=\0000220 0 48 48\000022\00003e\00003ctitle\00003ewarn\00003c/title\00003e\00003cpath fill=\000022%235E6268\000022  d=\000022M2 42h44L24 4 2 42zm24-6h-4v-4h4v4zm0-8h-4v-8h4v8z\000022/\00003e\00003c/svg\00003e');
                --search-icon-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022  width=\00002248\000022  height=\00002248\000022\00003e\00003cpath d=\000022M31 28h-1.59l-.55-.55C30.82 25.18 32 22.23 32 19c0-7.18-5.82-13-13-13S6 11.82 6 19s5.82 13 13 13c3.23 0 6.18-1.18 8.45-3.13l.55.55V31l10 9.98L40.98 38 31 28zm-12 0a9 9 0 1 1 .001-18.001A9 9 0 0 1 19 28z\000022  fill=\000022%235E6268\000022/\00003e\00003cpath d=\000022M0 0h48v48H0z\000022  fill=\000022none\000022  /\00003e\00003c/svg\00003e');
                --remove-circle-icon-url: url('data:image/svg+xml;utf8,\00003csvg height=\00002224\000022  width=\00002224\000022  xmlns=\000022http://www.w3.org/2000/svg\000022\00003e\00003cpath d=\000022M0 0h24v24H0z\000022  fill=\000022none\000022/\00003e\00003cpath d=\000022M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\000022  fill=\000022%235E6268\000022/\00003e\00003c/svg\00003e');
                --pwa-fast-reliable-gray-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022\00003e\00003cg fill=\000022none\000022  fill-rule=\000022nonzero\000022\00003e\00003ccircle fill=\000022%23DAE0E3\000022  cx=\00002212\000022  cy=\00002212\000022  r=\00002212\000022/\00003e\00003cpath d=\000022M12.3 4l6.3 2.8V11c0 3.88-2.69 7.52-6.3 8.4C8.69 18.52 6 14.89 6 11V6.8L12.3 4zm-.56 12.88l3.3-5.79.04-.08c.05-.1.01-.29-.26-.29h-1.96l.56-3.92h-.56L9.6 12.52c0 .03.07-.12-.03.07-.11.2-.12.37.2.37h1.97l-.56 3.92h.56z\000022  fill=\000022%23FFF\000022/\00003e\00003c/g\00003e\00003c/svg\00003e');
                --pwa-installable-gray-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022\00003e\00003cg fill=\000022none\000022  fill-rule=\000022nonzero\000022\00003e\00003ccircle fill=\000022%23DAE0E3\000022  cx=\00002212\000022  cy=\00002212\000022  r=\00002212\000022/\00003e\00003cpath d=\000022M12 5a7 7 0 1 0 0 14 7 7 0 0 0 0-14zm3.5 7.7h-2.8v2.8h-1.4v-2.8H8.5v-1.4h2.8V8.5h1.4v2.8h2.8v1.4z\000022  fill=\000022%23FFF\000022/\00003e\00003c/g\00003e\00003c/svg\00003e');
                --pwa-optimized-gray-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022\00003e\00003cg fill=\000022none\000022  fill-rule=\000022evenodd\000022\00003e\00003crect fill=\000022%23DAE0E3\000022  width=\00002224\000022  height=\00002224\000022  rx=\00002212\000022/\00003e\00003cpath fill=\000022%23FFF\000022  d=\000022M12 15.07l3.6 2.18-.95-4.1 3.18-2.76-4.2-.36L12 6.17l-1.64 3.86-4.2.36 3.2 2.76-.96 4.1z\000022/\00003e\00003cpath d=\000022M5 5h14v14H5z\000022/\00003e\00003c/g\00003e\00003c/svg\00003e');
                --pwa-fast-reliable-color-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022\00003e\00003cg fill-rule=\000022nonzero\000022  fill=\000022none\000022\00003e\00003ccircle fill=\000022%23CCE3F6\000022  cx=\00002212\000022  cy=\00002212\000022  r=\00002212\000022/\00003e\00003cpath d=\000022M12 4.3l6.3 2.8v4.2c0 3.88-2.69 7.52-6.3 8.4-3.61-.88-6.3-4.51-6.3-8.4V7.1L12 4.3zm-.56 12.88l3.3-5.79.04-.08c.05-.1.01-.29-.26-.29h-1.96l.56-3.92h-.56L9.3 12.82c0 .03.07-.12-.03.07-.11.2-.12.37.2.37h1.97l-.56 3.92h.56z\000022  fill=\000022%23304FFE\000022/\00003e\00003c/g\00003e\00003c/svg\00003e');
                --pwa-installable-color-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022\00003e\00003cg fill-rule=\000022nonzero\000022  fill=\000022none\000022\00003e\00003ccircle fill=\000022%23D4ECD5\000022  cx=\00002212\000022  cy=\00002212\000022  r=\00002212\000022/\00003e\00003cpath d=\000022M12 5a7 7 0 1 0 0 14 7 7 0 0 0 0-14zm3.5 7.7h-2.8v2.8h-1.4v-2.8H8.5v-1.4h2.8V8.5h1.4v2.8h2.8v1.4z\000022  fill=\000022%23009688\000022/\00003e\00003c/g\00003e\00003c/svg\00003e');
                --pwa-optimized-color-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022\00003e\00003cg fill=\000022none\000022  fill-rule=\000022evenodd\000022\00003e\00003crect fill=\000022%23FCE4EC\000022  width=\00002224\000022  height=\00002224\000022  rx=\00002212\000022/\00003e\00003cpath d=\000022M5 5h14v14H5z\000022/\00003e\00003cpath fill=\000022%23EC3F7A\000022  d=\000022M12 15.07l3.6 2.18-.95-4.1 3.18-2.76-4.2-.36L12 6.17l-1.64 3.86-4.2.36 3.2 2.76-.96 4.1z\000022/\00003e\00003c/g\00003e\00003c/svg\00003e')
            }

            .lab-data {
                --av-timer-icon-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022  width=\00002224\000022  height=\00002224\000022  fill=\000022white\000022\00003e\00003cpath d=\000022M0 0h24v24H0z\000022  fill=\000022none\000022/\00003e\00003cpath d=\000022M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42A8.962 8.962 0 0 0 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9a8.994 8.994 0 0 0 7.03-14.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z\000022/\00003e\00003c/svg\00003e');
                --photo-filter-icon-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022  width=\00002248\000022  height=\00002248\000022\00003e\00003cpath fill=\000022none\000022  d=\000022M0 0h48v48H0V0z\000022/\00003e\00003cpath d=\000022M38.04 20v18H10V10h18V6H10.04c-2.2 0-4 1.8-4 4v28c0 2.2 1.8 4 4 4h28c2.2 0 4-1.8 4-4V20h-4zM34 20l1.88-4.12L40 14l-4.12-1.88L34 8l-1.88 4.12L28 14l4.12 1.88zm-7.5 1.5L24 16l-2.5 5.5L16 24l5.5 2.5L24 32l2.5-5.5L32 24z\000022  fill=\000022white\000022/\00003e\00003c/svg\00003e');
                --content-paste-icon-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022  width=\00002224\000022  height=\00002224\000022\00003e\00003cpath fill=\000022white\000022  d=\000022M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z\000022/\00003e\00003cpath d=\000022M0 0h24v24H0z\000022  fill=\000022none\000022/\00003e\00003c/svg\00003e');
                --check-icon-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022  width=\00002248\000022  height=\00002248\000022\00003e\00003cpath d=\000022M0 0h48v48H0z\000022  fill=\000022none\000022/\00003e\00003cpath d=\000022M18 32.34L9.66 24l-2.83 2.83L18 38l24-24-2.83-2.83z\000022  fill=\000022white\000022/\00003e\00003c/svg\00003e');
                --search-icon-url: url('data:image/svg+xml;utf8,\00003csvg xmlns=\000022http://www.w3.org/2000/svg\000022  width=\00002248\000022  height=\00002248\000022\00003e\00003cpath d=\000022M31 28h-1.59l-.55-.55C30.82 25.18 32 22.23 32 19c0-7.18-5.82-13-13-13S6 11.82 6 19s5.82 13 13 13c3.23 0 6.18-1.18 8.45-3.13l.55.55V31l10 9.98L40.98 38 31 28zm-12 0a9 9 0 1 1 .001-18.001A9 9 0 0 1 19 28z\000022  fill=\000022white\000022/\00003e\00003cpath d=\000022M0 0h48v48H0z\000022  fill=\000022none\000022  /\00003e\00003c/svg\00003e');
                --subheader-font-size: 18px;
                --lh-audit-group-vpadding: 24px;
                --section-padding: 24px
            }



            .lh-audit-group--metrics {
                border-bottom: none;
            }
            .lh-audit-group {
                margin: var(--lh-audit-group-vpadding) 0;
            }

            .lh-audit-group--metrics .lh-audit-group__summary {
                margin-top: 0;
                margin-bottom: 0;
            }

            .lh-audit-group__summary {
                display: flex;
                justify-content: space-between;
                padding-right: var(--text-indent);
                margin-top: calc(var(--section-padding)*1.5);
                margin-bottom: var(--section-padding);
            }



            .lh-audit-group__header {
                font-weight: 400;
                font-size: 2rem;
                line-height: var(--subheader-line-height);
                color: var(--subheader-color);
                flex: 1;
            }





            .lh-audit-group--metrics .lh-audit-group__header::before {
                content: '';
                background-image: var(--av-timer-icon-url);
            }
            .lh-audit-group__header::before {
                width: 32px;
                height: 32px;
                background-size: 20px 20px;
                content: none;
                margin-right: calc(var(--subheader-font-size)/2);
                background:#4387f4 none no-repeat center/16px;
                display: inline-block;
                border-radius: 50%;
                vertical-align: middle;
            }

            .lh-clump>.lh-audit-group__description, .lh-audit-group--diagnostics .lh-audit-group__description, .lh-audit-group--load-opportunities .lh-audit-group__description, .lh-audit-group--metrics .lh-audit-group__description, .lh-audit-group--pwa-fast-reliable .lh-audit-group__description, .lh-audit-group--pwa-installable .lh-audit-group__description, .lh-audit-group--pwa-optimized .lh-audit-group__description {
                margin-top: var(--lh-audit-group-vpadding);
            }


            .lh-audit-group__description {
                font-size: 1.5rem;
                color: var(--medium-75-gray);
                margin: 0 0 2rem;
            }

            .lh-columns {
                display: flex;
                width: 100%;
            }

            .lh-column:first-of-type {
                margin-left: 0;
                margin-right: 12px;
            }

            .lh-column:first-of-type {
                margin-right: 24px;
            }

            .lh-column {
                margin-left: 12px;
                margin-right: 0;
            }
            .lh-column {
                flex: 1;
            }

            .lh-metric {
                border-bottom: 1px solid var(--report-secondary-border-color);
            }

            .tooltip-boundary {
                position: relative;
            }

            .tooltip-inner {
                font-size: 1.5rem;
                text-align:left;
                padding: 1rem;
                background-color: #ddd;
                color: #111;
            }

            .tooltip > .arrow:before {
                border-top-color:#ddd;
            }

            .lh-metric__innerwrap {
                display: flex;
                justify-content: space-between;
                padding: 8px var(--text-indent);
            }

            .lh-metric__title {
                font-size: var(--body-font-size);
                line-height: var(--body-line-height);
                display: flex;
                white-space: nowrap;
            }

            .lh-metric--fail .lh-metric__value {
                color: var(--fail-color);
            }

            .lh-metric--average .lh-metric__value {
                color: var(--average-color);
                padding-left: 16px;
            }

            .lh-metric--pass .lh-metric__value {
                color: var(--pass-color);
            }

            .lh-metric__value {
                white-space: nowrap;
                font-size: 1.5rem;
            }

            .lh-metric--fail .lh-metric__value::after {
                background: var(--fail-icon-url) no-repeat 50% 50%;
            }

            .lh-metric--average .lh-metric__value::after {
                background: var(--average-icon-url) no-repeat 50% 50%;
            }

            .lh-metric--pass .lh-metric__value::after {
                background: var(--pass-icon-url) no-repeat 50% 50%;
            }

            .lh-metric .lh-metric__value::after {
                content: '';
                width: var(--lh-score-icon-width);
                height: var(--lh-score-icon-width);
                background-size: contain;
                display: inline-block;
                vertical-align: text-bottom;
                margin-left: calc(var(--body-font-size)/2);
            }



            .lh-metric__description {
                color: var(--secondary-text-color);
            }

            #screenshots div {
                padding: 2rem;
                display: grid;
            }

            #screenshots div span {
                font-size: 1.2rem;
                text-align: center;
            }

            #screenshots div img {
                border: 1px solid #ccc;
            }

            /* end audit */



            .footer {
                border-top: solid 1px #999;
                /*box-shadow: 0 4px 4px 0 rgba(0,0,0,0.2), 0 1px 0 0 rgba(0,0,0,0.01);*/
                margin: 4rem 0 2rem 0;
                font-size: 1.5rem;
                font-weight: 300;
                line-height: 4rem;
            }







            .field-data {
                font-weight: normal;
                padding-top: 24px;
            }

            .field-data .metrics {
                display: flex;
                flex-wrap: nowrap;
                flex: 1;
                width: 100%;
            }

            .field-data .metric-wrapper {
                font-size: 14px;
                flex: 1;
                padding: 1rem;
            }

            .field-data .metric-wrapper .metric-chart {
                display: flex;
                margin-top: 16px;
                margin-bottom: 24px
            }

            .field-data .metric-wrapper .metric-chart .bar {
                display: inline-block;
                line-height: 24px;
                text-align: center;
                color: #fff;
                margin-left: 2px
            }

            .field-data .metric-wrapper .metric-chart .fast {
                background: #178239;
                border-radius: 4px 0 0 4px
            }

            .field-data .metric-wrapper .metric-chart .average {
                background: #e67700;
                color: #000
            }

            .field-data .metric-wrapper .metric-chart .slow {
                background: #c7221f;
                border-radius: 0 4px 4px 0
            }


            .field-data-title::before {
                content: '';
                width: 32px;
                height: 32px;
                background: #4285f4 none no-repeat center/16px;
                display: inline-block;
                border-radius: 50%;
                vertical-align: top;
                background-size: 20px 20px;
                margin-right: 9px;
            }

            .field-data-title::before {
                background-image: url(/images/ic_bar_chart_white.svg) !important;
            }


            .metric-wrapper:first-of-type, .lh-column:first-of-type {
                margin-left: 0;
                margin-right: 12px
            }

            .metric-wrapper, .lh-column {
                margin-left: 12px;
                margin-right: 0
            }

            .field-data .field-metric {
                display: flex;
                white-space: nowrap;
                padding: 8px;
                justify-content: space-between;
                border-bottom: solid 1px #e0e0e0
            }

            .field-data .field-metric .metric-value::after {
                content: '';
                width: 16px;
                height: 16px;
                display: inline-block;
                vertical-align: text-bottom;
                margin-left: 8px
            }

            .field-data .field-metric.fast .metric-value {
                color: #178239
            }

            .field-data .field-metric.fast .metric-value::after {
                background: url(//www.gstatic.com/pagespeed/insights/67/img/ic_check_circle.svg) no-repeat;
                background-size: 16px 16px
            }

            .field-data .field-metric.average .metric-value {
                color: #e67700
            }

            .field-data .field-metric.average .metric-value::after {
                background: url(//www.gstatic.com/pagespeed/insights/67/img/ic_info.svg) no-repeat;
                background-size: 16px 16px
            }

            .field-data .field-metric.slow .metric-value {
                color: #c7221f
            }

            .field-data .field-metric.slow .metric-value::after {
                background: url(//www.gstatic.com/pagespeed/insights/67/img/ic_warning.svg) no-repeat;
                background-size: 16px 16px
            }

            .score {
                display: inline-block;
                color: #fff;
                text-align: center;
                white-space: nowrap
            }

            .score.indicator {
                font-weight: bold;
                width: 17px;
                margin-right: 4px
            }

            html[dir=rtl] .score.indicator {
                margin-left: 4px;
                margin-right: 0
            }

            .result {
                opacity: 0;
                position: absolute;
                top: 0;
                transition: opacity .1s, height .1s
            }

            .field-data-description, .lh-audit-group__description {
                color: #777;
                font-style: 'Roboto';
                font-size: 14px;
                margin: 24px 8px
            }

            .field-data-description.fast b {
                color: #178239
            }

            .field-data-description.average b {
                color: #e67700
            }

            .field-data-description.slow b {
                color: #c7221f
            }

            html[dir=rtl] .result-container {
                padding: 0 32px 0 0
            }

            .origin-field-data {
                padding-top: 24px
            }

            .screenshot-container {
                padding: 24px 24px 0 24px;
                width: 18vw;
                max-width: 328px;
                min-width: 168px
            }

            .screenshot-container img {
                border: 1px solid #e0e0e0;
                border-radius: 4px;
                width: 100%
            }





        </style>

        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script type="text/javascript" src="/js/jquery.loadTemplate.min.js"></script>
        <script type="text/javascript" src="https://echarts.baidu.com/gallery/vendors/echarts/echarts.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


        <script>
            function timeMiliSecondFormatter(value) {
                if(!isNaN(value)) {
                    if (value < 1000) {
                        return value + ' ms';
                    } else {
                        value = value / 1000;
                        return (Math.floor(value * 100) / 100) + ' s';
                    }
                } else {
                    return value;
                }
            }

            $.addTemplateFormatter({
                TimeMiliSecondFormatter: function(value, template) {
                    return timeMiliSecondFormatter(value);
                },

                CategoryFormatter: function(value, template) {
                    var category = 'slow';
                    switch (value) {
                        case 'SLOW':
                            category = 'slow';
                            break;
                        case 'AVERAGE':
                            category = 'average';
                            break;
                        case 'FAST':
                            category = 'fast';
                            break;
                        default:
                            category = 'fast';

                    }

                    return 'field-metric ' + category;

                },

                FlexGrowStyleFormatter: function(value, template) {
                    value = value * 100;
                    return 'flex-grow: ' + (Math.floor(value)) + ';';
                },

                PercentageFormatter: function(value, template) {
                    value = value * 100;
                    return (Math.floor(value)) + '%';
                },


            });



        </script>
        <script type="text/javascript">
            //TODO: remove this variable
            var responseData = {};
            var globalData = {};

            var urlParams = new URLSearchParams(window.location.search);
            var urlStr = urlParams.get('url');
            if (urlStr != null) {
                var url = decodeURIComponent(urlStr);

                if (!url.startsWith('http', 0)) {
                    url = "http://" + url;
                }
                var strategy = urlParams.get('tab');
                if (strategy == null) {
                    strategy = 'mobile';
                }

                $(function() {
                    $(".main-action .url").val(url);
                    generateReport(url, strategy, 'https://m4-lh.herokuapp.com/', '/process');
                });
            }





            $( document ).on( "click", ".main-submit", function() {
                var inputURL = $(".main-action .url");
                var inputURLStr = inputURL.val();
                if (!inputURLStr.startsWith('http', 0)) {
                    inputURLStr = "http://" + inputURLStr;
                    inputURL.val(inputURLStr);
                }

                generateReport(inputURLStr, 'mobile', 'https://m4-lh.herokuapp.com/', '/process');
            });


            $( document ).on( "click", ".goog-tab", function() {
                generateReport(globalData.url, $(this).data().id, 'https://m4-lh.herokuapp.com/', '/process');
            });


            /*function displayLoadingExperience(url, strategy, api) {
                //api = '/process'
                if (typeof(api) === 'undefined') {
                    api = "https://www.googleapis.com/pagespeedonline/v5/runPagespeed";
                }

                $.ajax({
                    url: api,
                    data: {
                        category: 'performance',
                        url: url,
                        key: 'AIzaSyAQp8vshwJq1nwhsryxOfK__GshqnpXvUA',
                        locale: 'en_US',
                        strategy: strategy,
                    },
                    dataType: 'json',
                    method: 'GET',
                    success: function (response) {
                        var data = getScoreEntities(response);
                        $("#field-data-chart").loadTemplate($("#field-data-template"),
                            {
                                fcp_sec: data['FIRST_CONTENTFUL_PAINT_MS'].percentile,
                                fcp_category: data['FIRST_CONTENTFUL_PAINT_MS'].category,
                                fcp_flex_grow_fast: data['FIRST_CONTENTFUL_PAINT_MS'].distributions[0].proportion,
                                fcp_flex_grow_average: data['FIRST_CONTENTFUL_PAINT_MS'].distributions[1].proportion,
                                fcp_flex_grow_slow: data['FIRST_CONTENTFUL_PAINT_MS'].distributions[2].proportion,
                                fid_sec: data['FIRST_INPUT_DELAY_MS'].percentile,
                                fid_category: data['FIRST_INPUT_DELAY_MS'].category,
                                fid_flex_grow_fast: data['FIRST_INPUT_DELAY_MS'].distributions[0].proportion,
                                fid_flex_grow_average: data['FIRST_INPUT_DELAY_MS'].distributions[1].proportion,
                                fid_flex_grow_slow: data['FIRST_INPUT_DELAY_MS'].distributions[2].proportion,

                            });

                    },
                    error: function () {
                        $("#analysis-chart").html("there was an error");
                    },
                    complete: function () {
                        $(".loading-spinner").hide();
                    }

                });
            }
*/

            function generateReport(url, strategy, mainAPI, secondAPI) {
                globalData.url = url;
                globalData.strategy = strategy;

                window.history.pushState(null, null, "/analyze.html?url=" + encodeURIComponent(globalData.url) + "&tab=" + globalData.strategy);

                $(".tab-bar-wrapper .goog-tab").removeClass('goog-tab-selected');
                if (strategy == 'mobile') {
                    $(".tab-bar-wrapper .goog-tab:nth-child(1)").addClass('goog-tab-selected');
                } else {
                    $(".tab-bar-wrapper .goog-tab:nth-child(2)").addClass('goog-tab-selected');
                }
                $(".tab-bar-wrapper").show();

                /!* reset DOM *!/
                $("#analysis-chart").html('');
                $("#field-data-chart").html('');

                $("#screenshots").html('');

                $(".loading-spinner").show();
                /!* reset DOM *!/

                if (typeof(api)==='undefined') {
                    api = "https://www.googleapis.com/pagespeedonline/v5/runPagespeed";
                }
                $.when(
                    $.ajax({
                        data: {
                            category: 'performance',
                            url: url,
                            key: 'AIzaSyAQp8vshwJq1nwhsryxOfK__GshqnpXvUA',
                            locale: 'en_US',
                            strategy: strategy,
                        },
                        dataType: 'json',
                        method: 'GET',
                        url: mainAPI,
                    }),
                    $.ajax({
                        data: {
                            category: 'performance',
                            url: url,
                            key: 'AIzaSyAQp8vshwJq1nwhsryxOfK__GshqnpXvUA',
                            locale: 'en_US',
                            strategy: strategy,
                        },
                        dataType: 'json',
                        method: 'GET',
                        url: secondAPI,
                    })
                )
                    .done(function (mainAPIResponse, secondAPIResponse) {
                        var data = getScoreEntities(secondAPIResponse[0]);
                        if (data['showLoadingExperience']) {
                            $("#field-data-chart").loadTemplate($("#field-data-template"),
                                {
                                    fcp_sec: data['FIRST_CONTENTFUL_PAINT_MS'].percentile,
                                    fcp_category: data['FIRST_CONTENTFUL_PAINT_MS'].category,
                                    fcp_flex_grow_fast: data['FIRST_CONTENTFUL_PAINT_MS'].distributions[0].proportion,
                                    fcp_flex_grow_average: data['FIRST_CONTENTFUL_PAINT_MS'].distributions[1].proportion,
                                    fcp_flex_grow_slow: data['FIRST_CONTENTFUL_PAINT_MS'].distributions[2].proportion,
                                    fid_sec: data['FIRST_INPUT_DELAY_MS'].percentile,
                                    fid_category: data['FIRST_INPUT_DELAY_MS'].category,
                                    fid_flex_grow_fast: data['FIRST_INPUT_DELAY_MS'].distributions[0].proportion,
                                    fid_flex_grow_average: data['FIRST_INPUT_DELAY_MS'].distributions[1].proportion,
                                    fid_flex_grow_slow: data['FIRST_INPUT_DELAY_MS'].distributions[2].proportion,

                                });
                        }

                        data = getScoreEntities(mainAPIResponse[0]);
                        $("#analysis-chart").loadTemplate($("#analysis-chart-template"),
                            {
                                score: data['score'],
                                fetchTime: data['fetchTime'],
                                url: data['url'],
                            });


                        plotPieChart(data);

                        plotLabDataChart(data);

                        data['screenshots'].forEach(function (screenshot) {
                            $("#screenshots").append('<div><img src="data:image/jpeg;base64,' + screenshot.data + '" alt="thumbnail" /><span>' + timeMiliSecondFormatter(screenshot.timing) + '</span></div>');
                        });

                        $(".tab-bar-wrapper").show();

                        responseData = mainAPIResponse;

                        $(".loading-spinner").hide();
                    })
                    .fail(function () {
                        $("#analysis-chart").html("there was an error");
                        $(".loading-spinner").hide();
                    });

            }


            /*function displayScoreEntities(url, strategy, api) {

                globalData.url = url;
                globalData.strategy = strategy;

                window.history.pushState(null, null, "/analyze.html?url=" + encodeURIComponent(globalData.url) + "&tab=" + globalData.strategy);

                $(".tab-bar-wrapper .goog-tab").removeClass('goog-tab-selected');
                if (strategy == 'mobile') {
                    $(".tab-bar-wrapper .goog-tab:nth-child(1)").addClass('goog-tab-selected');
                } else {
                    $(".tab-bar-wrapper .goog-tab:nth-child(2)").addClass('goog-tab-selected');
                }
                $(".tab-bar-wrapper").show();

                /!* reset DOM *!/
                $("#analysis-chart").html('');
                $("#screenshots").html('');

                $(".loading-spinner").show();
                /!* reset DOM *!/

                if (typeof(api)==='undefined') {
                    api = "https://www.googleapis.com/pagespeedonline/v5/runPagespeed";
                }

                //var urlPrefix = "https://www.googleapis.com/pagespeedonline/v5/runPagespeed";
                //urlPrefix = "/process";
                //urlPrefix = "https://m4-lh.herokuapp.com/";
                $.ajax({
                    xhr: function () {
                        var xhr = new window.XMLHttpRequest();
                        xhr.addEventListener("progress", function (evt) {
                            if (evt.lengthComputable) {
                                var percentComplete = evt.loaded / evt.total;
                                //Do something with download progress
                                //console.log(percentComplete);
                            }
                        }, false);
                        return xhr;
                    },
                    url: api,
                    data: {
                        category: 'performance',
                        url: url,
                        key: 'AIzaSyAQp8vshwJq1nwhsryxOfK__GshqnpXvUA',
                        locale: 'en_US',
                        strategy: strategy,
                    },
                    dataType: 'json',
                    method: 'GET',
                    success: function(response) {
                        //$("#analysis-chart").html(JSON.stringify(response));
                        var data = getScoreEntities(response);
                        if (data['showLoadingExperience']) {
                            $("#field-data-chart").loadTemplate($("#field-data-template"),
                                {
                                    fcp_sec: data['FIRST_CONTENTFUL_PAINT_MS'].percentile,
                                    fcp_category: data['FIRST_CONTENTFUL_PAINT_MS'].category,
                                    fcp_flex_grow_fast: data['FIRST_CONTENTFUL_PAINT_MS'].distributions[0].proportion,
                                    fcp_flex_grow_average: data['FIRST_CONTENTFUL_PAINT_MS'].distributions[1].proportion,
                                    fcp_flex_grow_slow: data['FIRST_CONTENTFUL_PAINT_MS'].distributions[2].proportion,
                                    fid_sec: data['FIRST_INPUT_DELAY_MS'].percentile,
                                    fid_category: data['FIRST_INPUT_DELAY_MS'].category,
                                    fid_flex_grow_fast: data['FIRST_INPUT_DELAY_MS'].distributions[0].proportion,
                                    fid_flex_grow_average: data['FIRST_INPUT_DELAY_MS'].distributions[1].proportion,
                                    fid_flex_grow_slow: data['FIRST_INPUT_DELAY_MS'].distributions[2].proportion,

                                });
                        } else {
                            $("#analysis-chart").loadTemplate($("#analysis-chart-template"),
                                {
                                    score: data['score'],
                                    fetchTime: data['fetchTime'],
                                    url: data['url'],
                                });
                        }

                        plotPieChart(data);

                        plotLabDataChart(data);

                        data['screenshots'].forEach(function (screenshot) {
                            $("#screenshots").append('<div><img src="data:image/jpeg;base64,' + screenshot.data + '" alt="thumbnail" /><span>' + timeMiliSecondFormatter(screenshot.timing) + '</span></div>');
                        });

                        $(".tab-bar-wrapper").show();

                        responseData = response;
                    },
                    error: function() {
                        $("#analysis-chart").html("there was an error");
                    },
                    complete: function() {
                        $(".loading-spinner").hide();
                    }

                });
            }*/




            function getScoreEntities(response) {
                var data = {};
                var result = response.lighthouseResult || response;
                var audits = result.audits;


                if (response.loadingExperience) {
                    data['showLoadingExperience'] = true;
                    data['FIRST_CONTENTFUL_PAINT_MS'] = response.loadingExperience.metrics.FIRST_CONTENTFUL_PAINT_MS;
                    data['FIRST_INPUT_DELAY_MS'] = response.loadingExperience.metrics.FIRST_INPUT_DELAY_MS;
                } else {
                    data['score'] = result.categories.performance.score;
                    data['fetchTime'] = new Date(response.analysisUTCTimestamp).toLocaleString();
                    data['first-contentful-paint'] = audits['first-contentful-paint'];
                    data['first-meaningful-paint'] = audits['first-meaningful-paint'];
                    data['interactive'] = audits['interactive'];
                    data['first-cpu-idle'] = audits['first-cpu-idle'];
                    data['estimated-input-latency'] = audits['estimated-input-latency'];
                    data['speed-index'] = audits['speed-index'];
                    data['url'] = response.finalUrl;
                    data['screenshots'] = audits['screenshot-thumbnails'].details.items;
                    data['showLoadingExperience'] = false;
                }

                return data;
            }

            function getScaleFromScore(score) {
                var data = {
                    scale: 'pass',
                    score: score*100,
                    color: '#178239'
                };
                switch(true) {
                    case data.score <= 49:
                        data.color = "#c7221f";
                        data.scale = 'fail';
                        break;
                    case data.score <= 89:
                        data.color = "#e67700";
                        data.scale = 'average';
                        break;
                    default:
                        data.color = "#178239";
                        data.scale = 'pass';
                }

                return data;
            }

            function plotLabDataChart(data) {
                var items = ["first-contentful-paint", "first-meaningful-paint", "interactive", "first-cpu-idle", "estimated-input-latency", "speed-index"];
                items.forEach(function (id) {
                    $("#" + id).removeClass().find(".lh-metric__value").html(data[id].displayValue);
                    var score = getScaleFromScore(data[id].score);
                    $("#" + id).addClass('lh-metric lh-metric--' + score.scale);
                });

                /* activate tooltip */
                delayPopoverClose();

            }

            function delayPopoverClose() {
                //$('[data-toggle="tooltip"]').tooltip({delay: { "show": 100, "hide": 100 }});
                $('[data-toggle="tooltip"]').tooltip({ trigger: "manual" , html: true, animation:false})
                    .on("mouseenter", function () {
                        var _this = this;
                        $(this).tooltip("show");
                        $(".tooltip").on("mouseleave", function () {
                            $(_this).tooltip('hide');
                        });
                    }).on("mouseleave", function () {
                    var _this = this;
                    setTimeout(function () {
                        if (!$(".tooltip:hover").length) {
                            $(_this).tooltip("hide");
                        }
                    }, 300);
                });
            }

            function plotPieChart(data) {
                var myChart = echarts.init(document.getElementById('pi-chart'));

                var scoreData = getScaleFromScore(data['score']);

                var color = scoreData.color;
                var score = scoreData.score;


                var option = {
                    color: [color,'#cccccc']
                    ,
                    tooltip: {
                        show: false
                    },
                    legend:
                        {
                            show: false,
                        },
                    series: [
                        {
                            name: '',
                            type:'pie',
                            hoverAnimation: false,
                            legendHoverLink: false,
                            radius: ['70%', '80%'],
                            avoidLabelOverlap: true,
                            label: {
                                position: 'center',
                                fontSize: 60,
                            },

                            emphasis: {
                                show: false,
                            },
                            labelLine: {
                                normal: {
                                    show: false
                                }
                            },
                            data:[
                                {value: score, name: score},
                                {value:100-score, name:''},
                            ]
                        }
                    ]
                };

                myChart.setOption(option);

            }


        </script>

    </head>
    <body>
        <div class="container-fluid">
            <div class="d-flex justify-content-between m-3">
                <div class="p2"><img src="images/cr-logo.svg"></div>

                <div class="p2">
                    <ul class="nav justify-content-end nav-pills">
                        <li class="nav-item">
                            <a class="nav-link" href="main.html">Latest Score Report</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="analyze.html">Analyze Pagespeed Insight</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="config.html">Configuration</a>
                        </li>

                    </ul>

                </div>
            </div>


            <div class="d-flex justify-content-center pt-5">
                <div class="p2"><h1 class="crux-headline--standard">Analyze Pagespeed Insight</h1></div>
            </div>


            <div class="main-action pt-5">
                <form>
                    <div class="url-and-analyze"><input type="text" name="url" class="url label-input-label"
                                                        placeholder="Enter a web page URL"
                                                        aria-label="Enter a web page URL">
                        <div class="analyze-cell">
                            <div class="button button-red analyze jfk-button main-submit" role="button" tabindex="0"
                                 style="user-select: none;"> ANALYZE
                            </div>
                        </div>
                    </div>
                </form>


                <div class="goog-tab-bar result-tabs goog-tab-bar result-tabs-horizontal goog-tab-bar result-tabs-top"
                     role="tablist" style="user-select: none;">
                    <div class="tab-bar-wrapper"  style="user-select: none; display: none;">
                        <div class="goog-tab goog-tab-selected" data-id="mobile" role="tab" aria-selected="true" tabindex="0" id=":5"
                             style="user-select: none;">
                            <div style="user-select: none;">
                                <div class="tab-title" style="user-select: none;">Mobile</div>
                            </div>
                        </div>
                        <div class="goog-tab" role="tab"  data-id="desktop" aria-selected="false" tabindex="0" id=":8"
                             style="user-select: none;">
                            <div style="user-select: none;">
                                <div class="tab-title" style="user-select: none;">Desktop</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>





            <div class="container-fluid" style="min-height: 800px;">

                <div class="loading-spinner" style="display: none; margin-top: 200px;">
                    <div class="text-center">
                        <div class="spinner-grow spinner" style="width: 6rem; height: 6rem;" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                    </div>
                </div>






                <script type="text/html" id="field-data-template">
                    <div class="report-summary d-flex justify-content-center pt-2 pb-2">
                        <div id="pi-chart" style="width: 200px; height: 200px;"></div>
                        <div class="summary-description m-4">
                            <a target="_blank" class="audited-url" data-href="url" data-content="url"></a>
                            <p class="summary-message">The <a
                                    href="https://developers.google.com/web/tools/lighthouse/v3/scoring"
                                    target="_blank">speed score</a> is based on the lab data analyzed by <a
                                    href="https://developers.google.com/web/tools/lighthouse/" target="_blank">Lighthouse</a>.
                            </p>
                            <p class="summary-message">Analysis time: <span data-content="fetchTime"></span></p>
                            <div class="gauge-scale"><span>Scale:</span><span
                                    class="range fast">90-100 (fast)</span><span
                                    class="range average">50-89 (average)</span><span
                                    class="range slow">0-49 (slow)</span></div>
                        </div>
                    </div>
                    <div class="field-data">
                        <div class="page-field-data d-flex justify-content-center">
                            <div class="container-fluid col-8 pt-2">
                                <div class="field-data-title row"><span class="title">Field Data</span></div>
                                <div class="field-data-description average row">Over the last 30 days, the field data shows that
                                    this page has an&nbsp;<b>Average</b>&nbsp;speed compared to other pages in the&nbsp;<a
                                            href="https://developers.google.com/web/tools/chrome-user-experience-report/"
                                            target="_blank">Chrome User Experience Report</a>. We are showing&nbsp;<a
                                            href="https://developers.google.com/speed/docs/insights/about#faq"
                                            target="_blank">the 90th percentile of FCP</a>&nbsp;and&nbsp;<a
                                            href="https://developers.google.com/speed/docs/insights/about#faq"
                                            target="_blank">the 95th percentile of FID</a>.
                                </div>
                                <div class="metrics row">
                                    <div class="metric-wrapper">
                                        <div data-class="fcp_category" data-format-target="class" data-format="CategoryFormatter"><span class="metric-description">First Contentful Paint (FCP)</span>
                                            <div class="metric-value" data-content="fcp_sec" data-format="TimeMiliSecondFormatter"></div>
                                        </div>
                                        <div class="metric-chart">
                                            <div class="bar fast" data-template-bind='[{"attribute": "style", "value": "fcp_flex_grow_fast", "formatter": "FlexGrowStyleFormatter"}]'
                                                 data-content="fcp_flex_grow_fast" data-format="PercentageFormatter"></div>
                                            <div class="bar average" data-template-bind='[{"attribute": "style", "value": "fcp_flex_grow_average", "formatter": "FlexGrowStyleFormatter"}]'
                                                 data-content="fcp_flex_grow_average" data-format="PercentageFormatter"></div>
                                            <div class="bar slow" data-template-bind='[{"attribute": "style", "value": "fcp_flex_grow_slow", "formatter": "FlexGrowStyleFormatter"}]'
                                                 data-content="fcp_flex_grow_slow" data-format="PercentageFormatter"></div>
                                        </div>
                                    </div>
                                    <div class="metric-wrapper">
                                        <div data-class="fid_category" data-format-target="class" data-format="CategoryFormatter"><span class="metric-description">First Input Delay (FID)</span>
                                            <div class="metric-value" data-content="fid_sec" data-format="TimeMiliSecondFormatter"></div>
                                        </div>
                                        <div class="metric-chart">
                                            <div class="bar fast" data-template-bind='[{"attribute": "style", "value": "fid_flex_grow_fast", "formatter": "FlexGrowStyleFormatter"}]'
                                                 data-content="fid_flex_grow_fast" data-format="PercentageFormatter"></div>
                                            <div class="bar average" data-template-bind='[{"attribute": "style", "value": "fid_flex_grow_average", "formatter": "FlexGrowStyleFormatter"}]'
                                                 data-content="fid_flex_grow_average" data-format="PercentageFormatter"></div>
                                            <div class="bar slow" data-template-bind='[{"attribute": "style", "value": "fid_flex_grow_slow", "formatter": "FlexGrowStyleFormatter"}]'
                                                 data-content="fid_flex_grow_slow" data-format="PercentageFormatter"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </script>

                <script type="text/html" id="analysis-chart-template">
                    <div class="lh-vars lab-data">
                        <div class="lh-category d-flex justify-content-center">
                            <div class="lh-audit-group lh-audit-group--metrics container-fluid col-8">
                                <div class="row">
                                    <div class="lh-audit-group__summary">
                                        <div class="lh-audit-group__header">Lab Data</div>
                                    </div>
                                </div>
                                <div class="lh-audit-group__description row"><span><a rel="noopener" target="_blank"
                                                                                  href="https://developers.google.com/web/tools/lighthouse/">Lighthouse</a> analysis of the current page on an emulated mobile network. Values are estimated and may vary.</span>
                                </div>
                                <div class="lh-columns row">
                                    <div class="lh-column">
                                        <div class="lh-metric" id="first-contentful-paint">
                                            <div class="lh-metric__innerwrap tooltip-boundary">
                                                <span class="lh-metric__title">First Contentful Paint</span>
                                                <div class="lh-metric__value" data-toggle="tooltip" data-placement="top" data-html="true" data-container="body"
                                                     title='<span>First Contentful Paint marks the time at which the first text or image is painted. <a rel="noopener" target="_blank" href="https://developers.google.com/web/tools/lighthouse/audits/first-contentful-paint">Learn more</a>.</span>'></div>
                                            </div>
                                        </div>
                                        <div class="lh-metric" id="speed-index">
                                            <div class="lh-metric__innerwrap tooltip-boundary">
                                                <span class="lh-metric__title">Speed Index</span>
                                                <div class="lh-metric__value" data-toggle="tooltip" data-placement="top" data-html="true" data-container="body"
                                                     title='<span>Speed Index shows how quickly the contents of a page are visibly populated. <a
                                                        rel="noopener" target="_blank"
                                                        href="https://developers.google.com/web/tools/lighthouse/audits/speed-index">Learn more</a>.</span>'>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="lh-metric" id="interactive">
                                            <div class="lh-metric__innerwrap tooltip-boundary">
                                                <span class="lh-metric__title">Time to Interactive</span>
                                                <div class="lh-metric__value" data-toggle="tooltip" data-placement="top" data-html="true"
                                                     title='<span>Time to interactive is the amount of time it takes for the page to become fully interactive. <a
                                                        rel="noopener" target="_blank"
                                                        href="https://developers.google.com/web/tools/lighthouse/audits/consistently-interactive">Learn more</a>.</span>'>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="lh-column">
                                        <div class="lh-metric" id="first-meaningful-paint">
                                            <div class="lh-metric__innerwrap tooltip-boundary">
                                                <span class="lh-metric__title">First Meaningful Paint</span>
                                                <div class="lh-metric__value" data-toggle="tooltip" data-placement="top" data-html="true"
                                                     title='<span>First Meaningful Paint measures when the primary content of a page is visible. <a
                                                        rel="noopener" target="_blank"
                                                        href="https://developers.google.com/web/tools/lighthouse/audits/first-meaningful-paint">Learn more</a>.</span>'>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="lh-metric" id="first-cpu-idle">
                                            <div class="lh-metric__innerwrap tooltip-boundary">
                                                <span class="lh-metric__title">First CPU Idle</span>
                                                <div class="lh-metric__value" data-toggle="tooltip" data-placement="top" data-html="true"
                                                     title="<span>First CPU Idle marks the first time at which the page's main thread is quiet enough to handle input. <a
                                                        rel='noopener' target='_blank'
                                                        href='https://developers.google.com/web/tools/lighthouse/audits/first-interactive'>Learn more</a>.</span>">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="lh-metric" id="estimated-input-latency">
                                            <div class="lh-metric__innerwrap tooltip-boundary">
                                                <span class="lh-metric__title">Estimated Input Latency</span>
                                                <div class="lh-metric__value" data-toggle="tooltip" data-placement="top" data-html="true"
                                                     title='<span>Estimated Input Latency is an estimate of how long your app takes to respond to user input, in milliseconds, during the busiest 5s window of page load. If your latency is higher than 50 ms, users may perceive your app as laggy. <a
                                                        rel="noopener" target="_blank"
                                                        href="https://developers.google.com/web/tools/lighthouse/audits/estimated-input-latency">Learn more</a>.</span>'>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </script>



                <script type="text/html" id="analysis-diagnostics-template">
                    <div class="lh-vars lab-data">
                        <div class="lh-category d-flex justify-content-center">
                            <div class="lh-audit-group lh-audit-group--metrics container-fluid col-8">
                                <div class="row">
                                    <div class="lh-audit-group__summary">
                                        <div class="lh-audit-group__header">Diagnostics</div>
                                    </div>
                                </div>
                                <div class="lh-audit-group__description row"><span>Collection of useful page vitals.</span></div>
                                <!--
                                numRequests": 112,
    "numScripts": 29,
    "numStylesheets": 7,
    "numFonts": 8,
    "numTasks": 1665,
    "numTasksOver10ms": 43,
    "numTasksOver25ms": 21,
    "numTasksOver50ms": 14,
    "numTasksOver100ms": 8,
    "numTasksOver500ms": 1,
    "rtt": "0.7549999999999955",
    "throughput": "7594337.695993658",
    "maxRtt": "38.447",
    "maxServerLatency": "217.965",
    "totalByteWeight": "1626135",
    "totalTaskTime": "3368.785999999993",
    "mainDocumentTransferSize": "45201"
                                -->
                                <div class="lh-columns row">
                                    <div class="lh-column">
                                        <div class="lh-metric" id="numScripts">
                                            <div class="lh-metric__innerwrap">
                                                <span class="lh-metric__title">Number of scripts on the page</span>
                                                <div class="lh-metric__value"></div>
                                            </div>
                                        </div>
                                        <div class="lh-metric" id="numStylesheets">
                                            <div class="lh-metric__innerwrap">
                                                <span class="lh-metric__title">Number of stylesheets on the page</span>
                                                <div class="lh-metric__value"></div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </script>

                <div class="container-fluid" id="field-data-chart"></div>

                <div class="container-fluid" id="analysis-diagnostics"></div>

                <div class="container-fluid" id="analysis-chart"></div>

                <div class="container-fluid d-flex flex-wrap col-8 pt-2 pb-2" id="screenshots"></div>

            </div>

            <div class="footer container-fluid d-flex">
                For questions please email at arai@consumer.org
            </div>
        </div>
    </body>
</html>