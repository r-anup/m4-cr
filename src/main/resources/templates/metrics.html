<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{fragments/layout :: include(~{::title},~{::link},~{::style},~{::script},~{::body})}">
<head>
    <title>Analyze - Consumer Reports</title>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <style>
        .stats {
            display: flex;
            flex-flow: row wrap;
        }

        .chart__stat--compare {
            display: grid;
            width: 100%;
            margin: 0 0 10px 0;
            padding-bottom: 10px;
            grid-template-columns: 0.5fr 1fr 1fr 1fr;
            border-bottom: 1px solid #888;
            text-align: right;
        }

        .edited {
            background-color: yellow !important;
        }

        .chart__stat-metric {
            padding: 10px 10px 10px 60px;
        }

        .chart__stat-number--compare {
            font-weight: 800;
            font-size: 6rem;
        }

        .chart__stat-metric-title {
            color: #333;
            font-weight: 600;
        }

        .nochange {
            color: #a2a2a2;
        }

        .good {
            color: #5cb85c;
        }

        .bad {
            color: #d9534f;
        }

        .oi-minus {
            font-size: 4rem;
        }

        .dotted {
            border: 1px dotted #ff0000;
            border-style: none none dotted;
            color: #fff;
            background-color: #fff;
        }

        .dotted-underline {
            text-decoration-style: dotted;
            text-decoration-line: underline;
            cursor: pointer;
            color: #3939fd;
        }
        
        .ui-datepicker-trigger {
            visibility: hidden;
            width: 1px;
            padding: 0;
            margin: 0;
        }

        .go-submit {
            margin-left: 1rem;
            font-size: 2rem;
            margin-top: -8px;
        }
    </style>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
        var datepicker = function(dateId, textId, date) {
            $(dateId).datepicker({
                altField: textId,
                showOn: "button",
                buttonText: '',
                changeMonth: true,
                changeYear: true,
                maxDate: 0,
                onSelect: function(dateText, inst) {
                    $(textId).html(dateText);
                    $(textId).addClass('edited');
                    $("#submit-form").show();
                    //alert(dateText);
                },
                beforeShow: function (event, ui) {
                    var $link = $(textId);
                    ui.dpDiv.offset({
                        top: $link.offset().top + 10,
                        left: $link.offset().left + 10
                    });
                }
            });

            if (date != undefined && date != "") {
                $(dateId).datepicker("setDate", date);
                $(textId).html(date);
            }

            $(textId).click(function() {
                $(dateId).datepicker("show");
            });
        }
        $( function() {
            datepicker("#date-from", "#date-from-text", "03/10/2019");
            datepicker("#date-to", "#date-to-text", "03/08/2019");

        } );
    </script>
</head>

<body>
    <div class="d-flex container-fluid col-sm-12 justify-content-left">
        <h1 class="crux-headline--standard">Page Performance Metrics</h1>
    </div>

    <div class="d-flex container-fluid col-sm-12 justify-content-left pt-4">
        <h2>For <span class="dotted-underline">Consumerreports.org [Home]</span>
            on <span id="date-from-text" class="dotted-underline"></span><input type="hidden" id="date-from">
            compared to <span id="date-to-text" class="dotted-underline">03/08/2019</span><input type="hidden" id="date-to">
        </h2>
        <button style="display: none;" id="submit-form" type="button" class="btn btn-info go-submit">Go</button>
    </div>


    <div class="d-flex container-fluid col-sm-12 stats pt-4">
        <div class="chart__stat--compare" style="text-align: right; font-weight: 800; background-color: #ccc;">
            <div class="chart__stat-metric chart__stat-metric-title">Metric</div>
            <div class="chart__stat-metric">Previous <br>7 Mar - 8 Mar</div>
            <div class="chart__stat-metric">Change</div>
            <div class="chart__stat-metric">Latest <br>8 Mar - 9 Mar</div>
        </div>
        <div class="chart__stat--compare" style="color:#fdbc60;">
            <div class="chart__stat-metric chart__stat-metric-title">Render time</div>
            <div class="chart__stat-metric">Consumerreports<div class="chart__stat-number--compare">1.1s</div></div>
            <div class="chart__stat-metric">&nbsp;<div class="chart__stat-number--compare bad">9% <i class="oi oi-arrow-thick-top"></i></div></div>
            <div class="chart__stat-metric">Consumerreports<div class="chart__stat-number--compare">1.2s</div></div>
        </div>
        <div class="chart__stat--compare" style="color:#32a1da;">
            <div class="chart__stat-metric chart__stat-metric-title">Render time</div>
            <div class="chart__stat-metric">amazon<div class="chart__stat-number--compare">0.8s</div></div>
            <div class="chart__stat-metric">&nbsp;<div class="chart__stat-number--compare bad">12% <i class="oi oi-arrow-thick-top"></i></div></div>
            <div class="chart__stat-metric">amazon<div class="chart__stat-number--compare">0.9s</div></div>
        </div>
        <div class="chart__stat--compare" style="color:#44b75e;">
            <div class="chart__stat-metric chart__stat-metric-title">Render time</div>
            <div class="chart__stat-metric">cnet <div class="chart__stat-number--compare">1s</div></div>
            <div class="chart__stat-metric">&nbsp;<div class="chart__stat-number--compare nochange">12% <i class="oi oi-minus"></i></div></div>
            <div class="chart__stat-metric">cnet<div class="chart__stat-number--compare">1s</div></div>
        </div>
    </div>


    <div style="display:none;" th:each="url : *{urls}">
        <h2 th:text="${url.title}"></h2>
        <p th:text="${url.url}"></p>
    </div>
</body>
</html>